<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ company_name }} - KI Assistent</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon.png">
    
    <!-- Performance: Preload critical resources -->
    <link rel="preload" href="/static/js/vapi-credentials.js" as="script">
    <link rel="preload" href="/static/js/voice-functions.js" as="script">
    <link rel="preload" href="/static/js/event-listeners.js" as="script">
    <link rel="preload" href="/static/js/draggable-voice-container.js" as="script">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://api.vapi.ai">
    <link rel="dns-prefetch" href="https://logo.clearbit.com">
    
    <!-- Tailwind CSS CDN with optimization -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Optimize Tailwind for production
        tailwind.config = {
            // ... existing config ...
            corePlugins: {
                // Disable unused plugins for smaller bundle
                preflight: true,
                container: false,
                accessibility: true,
                pointerEvents: true,
                visibility: true,
                position: true,
                inset: true,
                isolation: false,
                zIndex: true,
                order: true,
                gridColumn: true,
                gridColumnStart: true,
                gridColumnEnd: true,
                gridRow: true,
                gridRowStart: true,
                gridRowEnd: true,
                float: false,
                clear: false,
                objectFit: true,
                objectPosition: true,
                overflow: true,
                overscrollBehavior: false,
                position: true,
                inset: true,
                visibility: true,
                zIndex: true
            }
        }
    </script>
    
    <!-- VAPI Voice Widget - OFFICIAL HTML Script Tag Implementation -->
    <!-- Note: vapi-credentials.js moved after voice-functions.js to ensure proper initialization order -->
    
    <!-- VAPI Web SDK is loaded by the official HTML script tag inside vapi-credentials.js -->
    
    <!-- VAPI Widget Component -->
    <script src="/static/widget.umd.js"></script>
    
    <!-- CRITICAL: Define VAPI_CONFIG FIRST before any other scripts -->
    <script>
        console.log('🚀 Initializing VAPI Configuration...');
        
        // ZENTRALE VAPI KONFIGURATION - SINGLE SOURCE OF TRUTH
        window.VAPI_CONFIG = {
            publicKey: {{ public_key | tojson | safe }},
            assistantId: {{ assistant_id | tojson | safe }},
            assistantOverrides: {
                variableValues: {
                    // Customer data from URL parameters - NUR ECHTE DATEN
                    {% if customer_domain %}customer_domain: {{ customer_domain | tojson | safe }},{% endif %}
                    {% if customer_name %}customer_name: {{ customer_name | tojson | safe }},{% endif %}
                    {% if customer_email %}customer_email: {{ customer_email | tojson | safe }},{% endif %}
                    {% if company_name %}company_name: {{ company_name | tojson | safe }},{% endif %}
                    {% if calendly_link %}calendly_link: {{ calendly_link | tojson | safe }},{% endif %}
                    // Conversation context - wird zur Laufzeit gefüllt
                    conversation_context: ''
                }
            }
        };
        
        console.log('📋 VAPI_CONFIG initialized with:', window.VAPI_CONFIG.assistantOverrides.variableValues);
    </script>
    
    <!-- Page Initialization Script -->
    <script>
        // Create browser session ID
        function createBrowserSessionId() {
            const timestamp = Date.now();
            const randomId = Math.random().toString(36).substring(2, 15);
            return `browser_${timestamp}_${randomId}`;
        }
        
        // Register browser session with backend
        async function registerBrowserSession(browserSessionId) {
            try {
                const response = await fetch('/api/register-browser-session', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        browser_session_id: browserSessionId,
                        customer_domain: new URLSearchParams(window.location.search).get('customer_domain'),
                        customer_name: new URLSearchParams(window.location.search).get('customer_name'),
                        customer_email: new URLSearchParams(window.location.search).get('customer_email'),
                        company_name: new URLSearchParams(window.location.search).get('company_name')
                    })
                });
                
                const result = await response.json();
                if (result.success) {
                    console.log('✅ Browser session registered with backend:', browserSessionId);
                } else {
                    console.error('❌ Failed to register browser session:', result.message);
                }
            } catch (error) {
                console.error('❌ Error registering browser session:', error);
            }
        }
        
        // Connect to message stream via Server-Sent Events
        function startMessageStream(browserSessionId) {
            console.log('🔄 Starting message stream for session:', browserSessionId);
            
            // Close any existing stream before creating a new one
            try {
                if (window.messageEventSource) {
                    window.messageEventSource.close();
                }
            } catch (e) {
                console.warn('⚠️ Failed to close previous EventSource', e);
            }
            
            const eventSource = new EventSource(`/api/message-stream/${browserSessionId}`);
            
            eventSource.onopen = function() {
                console.log('✅ Message stream connected');
                window._messageStreamRetries = 0;
                window._lastHeartbeat = Date.now();
            };
            
            eventSource.onmessage = function(event) {
                try {
                    const message = JSON.parse(event.data);
                    console.log('📧 Received message via SSE:', message);
                    
                    // Display message with message icon
                    if (typeof window.addChatMessageWithSource === 'function') {
                        window.addChatMessageWithSource(message.content, 'assistant', 'voice-function');
                        console.log('📧 Message displayed with brief icon');
                    } else {
                        console.error('❌ addChatMessageWithSource function not available');
                    }
                } catch (error) {
                    console.error('❌ Error parsing message:', error);
                }
            };
            
            eventSource.onerror = function(event) {
                console.error('❌ Message stream error:', event);
                // Aggressive reconnect with exponential backoff
                const retries = (window._messageStreamRetries || 0) + 1;
                window._messageStreamRetries = retries;
                const delay = Math.min(5000, 1000 * Math.pow(1.5, Math.min(retries, 3))); // Max 5s, faster reconnect
                try { eventSource.close(); } catch (_) {}
                setTimeout(() => {
                    console.log(`🔄 Reconnecting message stream (attempt ${retries})...`);
                    startMessageStream(browserSessionId);
                }, delay);
            };
            
            // Store event source for cleanup
            window.messageEventSource = eventSource;
            
            // Heartbeat monitor - check every 10 seconds if connection is alive
            window._heartbeatMonitor = setInterval(() => {
                const now = Date.now();
                const lastHeartbeat = window._lastHeartbeat || 0;
                if (now - lastHeartbeat > 20000) { // 20 seconds without heartbeat
                    console.warn('⚠️ No heartbeat for 20s, reconnecting...');
                    try { eventSource.close(); } catch (_) {}
                    setTimeout(() => startMessageStream(browserSessionId), 1000);
                }
            }, 10000);
        }
        
        // Initialize app when page loads - this will be defined by event-listeners.js loaded later
        document.addEventListener('DOMContentLoaded', function() {
            // Create browser session ID first
            const browserSessionId = createBrowserSessionId();
            window.BROWSER_SESSION_ID = browserSessionId;
            
            // Function to set browserSessionId on VAPI_CONFIG when it becomes available
            function setBrowserSessionIdOnVapiConfig() {
                if (window.VAPI_CONFIG) {
                    // Set browserSessionId directly on VAPI_CONFIG for message polling
                    window.VAPI_CONFIG.browserSessionId = browserSessionId;
                    console.log('🎯 Browser session ID set on VAPI_CONFIG for message polling:', browserSessionId);
                    
                    // Also add to assistantOverrides for VAPI voice functions (REQUIRED for other parts!)
                    if (window.VAPI_CONFIG.assistantOverrides && window.VAPI_CONFIG.assistantOverrides.variableValues) {
                        window.VAPI_CONFIG.assistantOverrides.variableValues.current_browser_session = browserSessionId;
                        console.log('🎯 Browser session created and added to VAPI_CONFIG assistantOverrides:', browserSessionId);
                    }
                    return true; // Success
                }
                return false; // VAPI_CONFIG not ready yet
            }
            
            // Try to set immediately
            if (!setBrowserSessionIdOnVapiConfig()) {
                // If VAPI_CONFIG doesn't exist yet, wait for it
                console.log('⏳ VAPI_CONFIG not ready yet, waiting...');
                const checkInterval = setInterval(() => {
                    if (setBrowserSessionIdOnVapiConfig()) {
                        clearInterval(checkInterval);
                    }
                }, 100);
                
                // Give up after 10 seconds
                setTimeout(() => {
                    clearInterval(checkInterval);
                    console.warn('⚠️ VAPI_CONFIG never became available after 10 seconds');
                }, 10000);
            }
            
            // Register browser session with backend for webhook routing
            registerBrowserSession(browserSessionId);
            
            // Start message stream via Server-Sent Events
            startMessageStream(browserSessionId);
            
            // Start message polling after session is registered
            if (typeof window.startMessagePollingWhenReady === 'function') {
                window.startMessagePollingWhenReady();
            }
            
            if (typeof initializeApp === 'function') {
                initializeApp();
            }
        });
    </script>
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f4ff',
                            100: '#e0e9ff',
                            500: {{ (primary_color or "#1863dc") | tojson | safe }},
                            600: {{ (secondary_color or "#cf2e2e") | tojson | safe }},
                            700: '#2d0a87',
                            900: '#1a0652'
                        },
                        accent: {{ (accent_color or "#fe8d3d") | tojson | safe }},
                        success: '#2ecc71',
                        warning: '#f39c12',
                        error: '#e74c3c'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'bounce-subtle': 'bounceSubtle 0.6s ease-in-out',
                        'pulse-ring': 'pulseRing 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite',
                        'voice-wave': 'voiceWave 1.5s ease-in-out infinite',
                        'voice-pulse': 'voicePulse 2s ease-in-out infinite',
                        'pulse-glow': 'pulseGlow 3s ease-in-out infinite',
                        'typing': 'typing 1.4s infinite',
                        'scroll-fade': 'scrollFade 0.4s ease-out forwards'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        bounceSubtle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' }
                        },
                        pulseRing: {
                            '0%': { transform: 'scale(0.33)', opacity: '1' },
                            '80%, 100%': { transform: 'scale(2.33)', opacity: '0' }
                        },
                        voiceWave: {
                            '0%, 100%': { transform: 'scaleY(1)' },
                            '50%': { transform: 'scaleY(1.5)' }
                        },
                        voicePulse: {
                            '0%, 100%': { transform: 'scale(1)', opacity: '1' },
                            '50%': { transform: 'scale(1.1)', opacity: '0.8' }
                        },
                        typing: {
                            '0%, 60%, 100%': { transform: 'translateY(0)' },
                            '30%': { transform: 'translateY(-10px)' }
                        },
                        pulseGlow: {
                            '0%, 100%': { opacity: '0', transform: 'scale(1.25)' },
                            '50%': { opacity: '0.8', transform: 'scale(1.35)' }
                        },
                    }
                }
            },
            darkMode: 'class'
        }
    </script>
    
    <!-- Custom Styles -->
    <style>
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .dark .glass-effect {
            background: rgba(17, 24, 39, 0.8);
            border: 1px solid rgba(75, 85, 99, 0.2);
        }
        
        .chat-message {
            animation: slideUp 0.3s ease-out;
        }
        
        /* Performance: Static elements - no animations */
        .feature-card {
            will-change: auto;
            backface-visibility: visible;
            -webkit-backface-visibility: visible;
        }
        
        .feature-card:hover {
            transform: translateY(-8px) scale(1.02);
            transition: transform 0.2s ease-out;
        }
        
        /* Optimize animations for 60fps */
        @media (prefers-reduced-motion: no-preference) {
            .animate-pulse-glow {
                animation: pulseGlow 3s ease-in-out infinite;
            }
        }
        
        @media (prefers-reduced-motion: reduce) {
            .animate-pulse-glow {
                animation: none;
            }
        }
        
        .voice-indicator {
            position: relative;
        }
        
        .voice-indicator::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            border: 2px solid currentColor;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulseRing 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite;
        }
        
        .voice-wave {
            display: inline-block;
            width: 4px;
            height: 20px;
            background: currentColor;
            margin: 0 1px;
            animation: voiceWave 1.5s ease-in-out infinite;
        }
        
        .voice-wave:nth-child(2) { animation-delay: 0.1s; }
        .voice-wave:nth-child(3) { animation-delay: 0.2s; }
        .voice-wave:nth-child(4) { animation-delay: 0.3s; }
        .voice-wave:nth-child(5) { animation-delay: 0.4s; }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: currentColor;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        .chat-container {
            height: 400px;
            overflow-y: auto;
            scroll-behavior: smooth;
        }
        
        .chat-container::-webkit-scrollbar {
            width: 6px;
        }
        
        .chat-container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
        }
        
        .chat-container::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 3px;
        }
        
        .dark .chat-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .dark .chat-container::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
        }

                /* VAPI Widget Custom Styling */
        .vapi-widget-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            min-height: 400px;
        }

        /* Position VAPI Widget 60px lower to avoid visible layout shifts */
        button[class*="vapi-btn"] {
            position: relative !important;
            top: 60px !important;
        }

        /* Global CSS Variables for Customer Colors */
        :root {
            --vapi-primary-color: {{ (primary_color or "#1863dc") | tojson | safe }};
            --vapi-secondary-color: {{ (secondary_color or "#cf2e2e") | tojson | safe }};
            --vapi-accent-color: {{ (accent_color or "#fe8d3d") | tojson | safe }};
        }

        /* Override VAPI Widget default styles */
        vapi-widget {
            border-radius: 20px !important;
            backdrop-filter: blur(16px) !important;
            background: linear-gradient(135deg, 
                rgba(67, 97, 238, 0.1), 
                rgba(76, 201, 240, 0.05)) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            box-shadow: 
                0 20px 25px -5px rgba(67, 97, 238, 0.1),
                0 10px 10px -5px rgba(67, 97, 238, 0.04),
                inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
            min-width: 350px !important;
            max-width: 100% !important;
            width: 100% !important;
            padding: 24px !important;
            margin: 0 auto !important;
        }

        vapi-widget:hover {
            box-shadow: 
                0 32px 64px -12px rgba(67, 97, 238, 0.25),
                0 20px 25px -5px rgba(67, 97, 238, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
            transform: translateY(-4px) scale(1.02) !important;
            background: linear-gradient(135deg, 
                rgba(67, 97, 238, 0.15), 
                rgba(76, 201, 240, 0.08)) !important;
        }

        /* Style the widget buttons */
        vapi-widget button {
            background: linear-gradient(135deg, var(--vapi-primary-color), var(--vapi-accent-color)) !important;
            border: none !important;
            border-radius: 12px !important;
            color: white !important;
            font-weight: 600 !important;
            padding: 12px 24px !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 4px 14px 0 rgba(67, 97, 238, 0.39) !important;
        }

        vapi-widget button:hover {
            transform: translateY(-1px) !important;
            box-shadow: 0 6px 20px 0 rgba(67, 97, 238, 0.5) !important;
        }

        /* Animate the widget on load */
        .vapi-widget-container {
            animation: fadeInUp 0.6s ease-out 0.3s both;
        }

        /* Voice button: avoid layout shift by hiding until ready and nudge down */
        #vapiVoiceButton {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.25s ease;
            margin-top: 90px;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            position: relative;
        }

        body.vapi-button-ready #vapiVoiceButton {
            visibility: visible;
            opacity: 1;
        }

        /* Voice button borders for different states - use box-sizing to prevent size changes */
        #vapiVoiceButton {
            border: 1px solid rgba(var(--color-primary-400), 0.5) !important;
            box-sizing: border-box !important;
            width: 56px !important;
            height: 56px !important;
        }

        #vapiVoiceButton:hover {
            border: 1px solid rgba(var(--color-primary-300), 0.7) !important;
        }

        #vapiVoiceButton.loading {
            border: 1px solid rgba(var(--color-accent), 0.6) !important;
        }

        #vapiVoiceButton.active {
            border: 1px solid rgba(var(--color-green-400), 0.8) !important;
        }

        /* Voice icon - force relative positioning and proper centering */
        #vapiVoiceIcon {
            position: relative !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            width: 100% !important;
            height: 100% !important;
            z-index: 20;
            top: auto !important;
            left: auto !important;
            transform: none !important;
        }
        
        /* Ensure the SVG inside is centered */
        #vapiVoiceIcon svg {
            display: block;
            flex-shrink: 0;
        }

        /* Hide original VAPI SDK button - we use our own */
        #vapi-support-btn,
        .vapi-btn {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }


        /* Hide scrollbars across the entire page */
        * {
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* Internet Explorer 10+ */
        }

        *::-webkit-scrollbar {
            display: none; /* WebKit browsers (Chrome, Safari, Edge) */
        }

        html, body {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        html::-webkit-scrollbar, body::-webkit-scrollbar {
            display: none;
        }

        /* Dark mode adjustments */
        .dark vapi-widget {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.1)) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
        }
        
        /* Background optimization - load immediately and fix */
        body {
            background-attachment: fixed !important;
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }
        
        /* Ensure background is always visible */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 50%, #e0e7ff 100%);
            z-index: -1;
            transition: opacity 0.3s ease;
        }
        
        .dark body::before {
            background: linear-gradient(135deg, #111827 0%, #1f2937 50%, #374151 100%);
        }
    </style>
</head>

<body class="bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700 min-h-screen transition-colors duration-300" style="background-attachment: fixed; background-size: cover; background-position: center;">
    


    <!-- Header -->
    <header class="bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-white/30 dark:border-gray-700/30 shadow-2xl shadow-black/5 dark:shadow-black/20 sticky top-0 z-40 supports-[backdrop-filter]:bg-white/60 supports-[backdrop-filter]:dark:bg-gray-900/60">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <!-- Dynamic Logo with fallback system -->
                    <div id="logoContainer" class="w-10 h-10 rounded-xl flex items-center justify-center overflow-hidden">
                        <!-- Always show the gradient logo for now -->
                        <div id="defaultLogo" class="w-10 h-10 bg-gradient-to-r from-blue-600 to-orange-500 rounded-xl flex items-center justify-center shadow-lg">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                            </svg>
                        </div>
                        {% if logo_urls and logo_urls|length > 0 %}
                        <img id="dynamicLogo" 
                             src="{{ logo_urls[0] }}" 
                             alt="{{ company_name | e }} Logo" 
                             class="w-16 h-16 object-contain rounded-xl hidden"
                             onerror="tryNextLogo(this)"
                             onload="if (window.validateLogo && validateLogo(this)) { console.log('✅ Logo loaded successfully:', this.src); this.classList.remove('hidden'); document.getElementById('defaultLogo').style.display = 'none'; } else if (!window.validateLogo) { console.log('⚠️ validateLogo not ready, using simple validation'); if (this.naturalWidth > 0 && this.naturalHeight > 0) { this.classList.remove('hidden'); document.getElementById('defaultLogo').style.display = 'none'; } }">
                        {% endif %}
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold bg-gradient-to-r from-primary-500 to-accent bg-clip-text text-transparent">
                            {{ demo_agent_title or "KI-Assistent" | e }}
                        </h1>
                        <div class="flex items-center space-x-1">
                            <span class="text-sm text-gray-600 dark:text-gray-400">{{ powered_by_text or "Powered by" | e }}</span>
                            <a href="{{ powered_by_url or saas_website_url or '#' }}" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               class="flex items-center space-x-1 hover:opacity-80 transition-opacity duration-200">
                        <div class="w-4 h-4 rounded overflow-hidden flex items-center justify-center">
                            <img src="{{ powered_by_logo or 'https://bifrotek.com/logo.png' }}" 
                                 alt="BIFROTEK Logo" 
                                 class="w-full h-full object-contain"
                                 onerror="this.innerHTML='<div class=\'w-3 h-3 bg-blue-600 rounded-full\'></div>'">
                        </div>
                                <span class="text-sm font-semibold text-gray-900 dark:text-white">
                                    {{ powered_by_company or saas_company_name or company_name | e }}
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Dark Mode Toggle (moved to right side) -->
                <div class="flex items-center">
                    <button
                        id="darkModeToggle"
                        class="p-3 rounded-full bg-white/40 dark:bg-gray-800/60 backdrop-blur-md border border-white/30 dark:border-gray-600/30 hover:bg-white/60 dark:hover:bg-gray-700/70 hover:scale-110 transition-all duration-300 shadow-lg hover:shadow-xl"
                    >
                        <!-- Moon icon for dark mode -->
                        <svg id="moonIcon" class="w-6 h-6 text-blue-400 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"/>
                        </svg>
                        <!-- Sun icon for light mode -->
                        <svg id="sunIcon" class="w-6 h-6 text-yellow-500 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Configuration Status Check -->
    <div id="config-status-container"></div>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-16">
        
        <!-- Hero Section -->
        <section class="text-center mb-12 animate-fade-in">
            <!-- Company Name über Hero Text -->
            {% if company_name %}
            <div class="mb-6">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-200 mb-3">
                    {{ company_name | e }}
                </h1>
                <div class="w-24 h-1 bg-gradient-to-r from-primary-500 to-accent mx-auto rounded-full"></div>
            </div>
            {% endif %}
            
            <!-- Hero Title nur anzeigen wenn es nicht leer ist und nicht BIFROTEK -->
            {% if hero_title and hero_title != "BIFROTEK" and hero_title != company_name %}
            <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                {{ hero_title | e }}
                <br class="hidden md:block">
                <span class="bg-gradient-to-r from-primary-600 to-accent bg-clip-text text-transparent md:inline block">
                    {{ hero_subtitle | e }}
                </span>
            </h2>
            {% elif hero_subtitle %}
            <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                <span class="bg-gradient-to-r from-primary-600 to-accent bg-clip-text text-transparent">
                    {{ hero_subtitle | e }}
                </span>
            </h2>
            {% endif %}
            
            <!-- Welcome Message nur einmal anzeigen -->
            <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed mb-8">
                {{ welcome_message | e }}
            </p>
            
            <!-- Domain Info Badge (nur wenn Domain vorhanden) -->
            {% if customer_domain %}
            <div class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary-500 to-accent text-white rounded-full mb-6 shadow-md">
                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4"></path>
                </svg>
                <span class="text-sm font-medium">
                    {{ cta_text or "Demo für " + customer_domain | e }}
                </span>
            </div>
            {% endif %}
        </section>

        <!-- Floating Voice Button Container (Draggable via Drag Ring) -->
        <div id="floatingVoiceContainer" class="fixed bottom-6 right-6 z-40" style="width: 56px;">
            
            <!-- Voice Button (Only for Calls) -->
            <div id="voiceButtonWrapper" class="relative">
                <div class="vapi-widget-container">
                    <!-- VAPI Voice Button -->
                    <button id="vapiVoiceButton" class="relative w-14 h-14 rounded-full bg-gradient-to-r from-primary-500 to-accent text-white shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-primary-300 dark:focus:ring-primary-600 transition-all duration-200 border border-primary-400/50">
                        <!-- Permanent Glow Effect -->
                        <div class="absolute inset-0 rounded-full bg-gradient-to-r from-primary-500 to-accent opacity-30 blur-md scale-110"></div>
                        <!-- Animated Glow (only for 1 minute or until first test) -->
                        <div id="animatedGlow" class="absolute inset-0 rounded-full bg-gradient-to-r from-primary-400 to-accent opacity-0 blur-lg scale-125 animate-pulse-glow"></div>
                        
                        <!-- Microphone Icon (shown when idle/loading) -->
                        <div id="vapiVoiceIcon">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                            </svg>
                        </div>
                        
                    </button>
                </div>
            </div>
            
            <!-- Drag Ring (10px below Voice Button) -->
            <div id="dragRing" class="absolute top-[75px] left-1/2 transform -translate-x-1/2 w-5 h-5 rounded-full border border-gray-400 bg-gray-100 opacity-30 cursor-move touch-none select-none transition-opacity duration-200 hover:opacity-60" title="Ziehen zum Verschieben">
                <!-- Drag Icon -->
                <div class="flex items-center justify-center w-full h-full">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 text-gray-600" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M9 3h2v2H9V3zm4 0h2v2h-2V3zM9 7h2v2H9V7zm4 0h2v2h-2V7zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2zm-4 4h2v2H9v-2zm4 0h2v2h-2v-2z"/>
                    </svg>
                </div>
            </div>
            
        </div>
                
        <!-- Assistant Interface -->
        <div class="flex flex-col gap-4 md:gap-6 mb-12">
            
            <!-- Voice Interface -->
            <div class="glass-effect rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 animate-slide-up h-[120px] flex items-center justify-center overflow-hidden">
                <!-- Voice Status Display Only - CLICKABLE -->
                <div class="text-center cursor-pointer hover:opacity-80 transition-opacity" onclick="toggleVoiceCall()">
                    <div class="flex items-center justify-center mb-2">
                        <div class="w-12 h-12 bg-gradient-to-r from-primary-500 to-accent rounded-full flex items-center justify-center mr-3">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                                </svg>
                            </div>
                        <h3 class="text-base font-bold text-gray-900 dark:text-white">Voice Chat</h3>
                            </div>
                        <!-- Status Text -->
                    <div id="vapiStatus" class="text-xs font-medium text-gray-600 dark:text-gray-400">
                            Klicken Sie, um zu sprechen
                    </div>
                </div>
                
                <!-- Hidden fallback elements -->
                <div class="hidden">
                    <div id="fallbackVoiceButton">
                        <button id="voiceButton" class="relative w-32 h-32 mx-auto rounded-full bg-gradient-to-r from-primary-500 to-accent text-white shadow-2xl hover:shadow-3xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-primary-300 dark:focus:ring-primary-800">
                            <div id="voiceIcon" class="flex items-center justify-center w-full h-full">
                                <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
                                </svg>
                            </div>
                            <div id="voiceWaves" class="hidden absolute inset-0 flex items-center justify-center">
                                <div class="voice-wave"></div>
                                <div class="voice-wave"></div>
                                <div class="voice-wave"></div>
                                <div class="voice-wave"></div>
                                <div class="voice-wave"></div>
                            </div>
                        </button>
                    </div>
                    <div id="voiceStatus" class="text-lg font-semibold text-gray-700 dark:text-gray-300 mb-4">
                        Klicken Sie, um zu sprechen
                    </div>
                    <div id="voiceTranscript" class="bg-gray-100 dark:bg-gray-800 rounded-xl p-4 min-h-[100px] text-left text-gray-700 dark:text-gray-300 hidden">
                        <div class="text-sm text-gray-500 dark:text-gray-400 mb-2">Transkript:</div>
                        <div id="transcriptContent"></div>
                    </div>
                </div>
            </div>

            <!-- Chat Interface -->
            <div class="glass-effect rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 animate-slide-up h-[calc(100vh-200px)] flex flex-col" style="animation-delay: 0.1s;">
                <!-- Header -->
                <div class="p-4 md:p-6 border-b border-gray-200 dark:border-gray-700">
                    <div class="flex items-center justify-center">
                        <div class="w-12 h-12 bg-gradient-to-r from-primary-500 to-accent rounded-full flex items-center justify-center mr-3">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                            </svg>
                        </div>
                        <h3 class="text-base font-bold text-gray-900 dark:text-white">Text Chat</h3>
                    </div>
                </div>
                
                <!-- Chat Content -->
                <div class="flex-1 flex flex-col p-3 md:p-6 overflow-hidden">
                
                <!-- Chat Messages -->
                <div id="chatContainer" class="flex-1 chat-container bg-gray-50 dark:bg-gray-800 rounded-xl p-3 md:p-4 mb-3 md:mb-4 overflow-y-auto">
                    <div id="chatMessages" class="space-y-4">
                        <!-- Welcome Message -->
                        <div class="chat-message flex items-start space-x-3">
                            <div class="w-8 h-8 bg-gradient-to-r from-primary-500 to-accent rounded-full flex items-center justify-center flex-shrink-0">
                                <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <div class="bg-white dark:bg-gray-700 rounded-lg px-4 py-2 shadow-sm max-w-md flex-1">
                                <p class="text-gray-800 dark:text-gray-200 break-words">{{ first_message or "Hallo! Ich bin Ihr KI-Assistent. Wie kann ich Ihnen helfen?" | e }}</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Typing Indicator -->
                    <div id="typingIndicator" class="chat-message flex items-start space-x-3 hidden">
                        <div class="w-8 h-8 bg-gradient-to-r from-primary-500 to-accent rounded-full flex items-center justify-center flex-shrink-0">
                            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <div class="bg-white dark:bg-gray-700 rounded-lg px-4 py-3 shadow-sm max-w-md">
                            <div class="typing-indicator text-gray-500 dark:text-gray-400">
                                <div class="typing-dot"></div>
                                <div class="typing-dot"></div>
                                <div class="typing-dot"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Chat Input -->
                <div class="flex gap-2 sm:gap-3 relative" style="z-index: 50;">
                    <input type="text" 
                           id="chatInput"
                           placeholder="Schreiben Sie Ihre Nachricht..."
                           class="flex-1 px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"
                           style="z-index: 51; position: relative;">
                    <button id="sendButton" 
                            class="min-w-[48px] px-3 sm:px-4 py-3 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 active:from-gray-800 active:to-gray-900 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl active:shadow-md transform hover:-translate-y-0.5 active:translate-y-0 transition-all duration-150 touch-manipulation"
                            style="z-index: 52; position: relative; pointer-events: auto; min-height: 48px;"
                            type="button"
                            aria-label="Nachricht senden">
                        <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        </svg>
                    </button>
                </div>
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <section class="mt-24 mb-20" loading="lazy">
            <div class="text-center mb-16 animate-fade-in">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-6">
                    Erweiterte
                    <span class="bg-gradient-to-r from-primary-600 to-accent bg-clip-text text-transparent">
                        Voice-AI Features
                    </span>
                </h2>
                <p class="text-xl text-gray-600 dark:text-gray-300 max-w-4xl mx-auto leading-relaxed mb-8">
                    <strong>Verwandeln Sie jeden Kundenkontakt in eine Verkaufschance.</strong> Voice & Chat KI beantwortet <strong>jede Anfrage sofort</strong>, bucht <strong>Termine automatisch</strong> und qualifiziert <strong>Leads 24/7</strong>. <strong>Bewiesen:</strong> Handwerksbetrieb steigerte Umsatz um 600.000€ in 6 Monaten durch Chatbot-Automatisierung.
                </p>
                
                <!-- Stats Bar -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8 mb-12 sm:flex sm:justify-center sm:items-center sm:space-x-8">
                    <div class="text-center">
                        <div class="text-2xl sm:text-3xl font-bold text-primary-600 whitespace-nowrap">600ms</div>
                        <div class="text-xs sm:text-sm text-gray-600 dark:text-gray-400">Antwortzeit</div>
                    </div>
                    <div class="hidden sm:block w-px h-12 bg-gray-300 dark:bg-gray-600"></div>
                    <div class="text-center">
                        <div class="text-2xl sm:text-3xl font-bold text-primary-600 whitespace-nowrap">24/7</div>
                        <div class="text-xs sm:text-sm text-gray-600 dark:text-gray-400">Verfügbar</div>
                    </div>
                    <div class="hidden sm:block w-px h-12 bg-gray-300 dark:bg-gray-600"></div>
                    <div class="text-center">
                        <div class="text-2xl sm:text-3xl font-bold text-primary-600 whitespace-nowrap">20+</div>
                        <div class="text-xs sm:text-sm text-gray-600 dark:text-gray-400">Sprachen</div>
                    </div>
                </div>
            </div>

            <!-- Key Capabilities Section -->
            <div class="mb-16">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
                        Zentrale Funktionen
                    </h2>
                    <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
                        Professionelle KI-Voice-Lösungen für moderne Unternehmen
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
                    <!-- Real-time conversations -->
                    <div class="flex items-start p-6 bg-white/10 dark:bg-gray-800/20 backdrop-blur-sm rounded-2xl border border-white/20 hover:bg-white/20 transition-all duration-300">
                        <div class="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Echtzeit-Gespräche</h3>
                            <p class="text-gray-600 dark:text-gray-300">Unter 600ms Antwortzeiten mit natürlichem Gesprächsfluss</p>
                        </div>
                    </div>
                    
                    <!-- Phone integration -->
                    <div class="flex items-start p-6 bg-white/10 dark:bg-gray-800/20 backdrop-blur-sm rounded-2xl border border-white/20 hover:bg-white/20 transition-all duration-300">
                        <div class="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Telefon-Integration</h3>
                            <p class="text-gray-600 dark:text-gray-300">Anrufe tätigen und empfangen über jede Telefonnummer</p>
                        </div>
                    </div>
                    
                    <!-- Web integration -->
                    <div class="flex items-start p-6 bg-white/10 dark:bg-gray-800/20 backdrop-blur-sm rounded-2xl border border-white/20 hover:bg-white/20 transition-all duration-300">
                        <div class="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Web-Integration</h3>
                            <p class="text-gray-600 dark:text-gray-300">Voice-Calls direkt in Ihre Anwendungen einbetten</p>
                        </div>
                    </div>
                    
                    <!-- Tool integration -->
                    <div class="flex items-start p-6 bg-white/10 dark:bg-gray-800/20 backdrop-blur-sm rounded-2xl border border-white/20 hover:bg-white/20 transition-all duration-300">
                        <div class="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl flex items-center justify-center mr-4">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Tool-Integration</h3>
                            <p class="text-gray-600 dark:text-gray-300">Verbindung zu Ihren APIs, Datenbanken und bestehenden Systemen</p>
                        </div>
                    </div>
                </div>
                
            </div>

            <!-- Features Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 md:gap-16 lg:gap-20 mb-24 lg:mb-40">
                <!-- Feature 1: Voice-First Hotline -->
                <div class="feature-card group relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/20 to-white/5 backdrop-blur-xl border border-white/30 p-8 lg:p-10 hover:from-white/30 hover:to-white/10 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:-translate-y-2">
                    <div class="absolute inset-0 bg-gradient-to-br from-accent/10 to-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="flex items-center mb-6">
                            <div class="w-16 h-16 rounded-2xl flex items-center justify-center mr-4 bg-gradient-to-br from-accent to-primary-500 shadow-lg flex-shrink-0">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg sm:text-2xl font-bold text-gray-900 dark:text-white">Voice-First Hotline</h3>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg leading-relaxed">
                            Telefonhotline ohne Warteschleife. Kunden sprechen sofort mit Ihrer KI.
                        </p>
                        
                        <!-- Voice Hotline Live Demo -->
                        <div class="bg-gradient-to-r from-primary-500/20 to-accent/20 dark:from-primary-800/30 dark:to-accent/30 p-4 rounded-2xl mb-6 backdrop-blur-sm border border-white/20">
                            <div class="bg-white/40 dark:bg-gray-800/40 p-3 rounded-xl border border-white/30">
                                <div class="flex items-center mb-2">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mr-2 animate-pulse"></div>
                                    <span class="text-xs text-green-600 dark:text-green-400 font-semibold">Verbunden</span>
                                    <span class="text-xs text-gray-500 dark:text-gray-400 ml-auto">00:23</span>
                                </div>
                                <div class="text-sm text-gray-700 dark:text-gray-300">
                                    <div class="flex items-start space-x-2 mb-2">
                                        <svg class="w-4 h-4 text-blue-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                        </svg>
                                        <span><strong>Kunde:</strong> "Ich hätte eine Frage zu..."</span>
                                    </div>
                                    <div class="flex items-start space-x-2">
                                        <svg class="w-4 h-4 text-green-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                        </svg>
                                        <span><strong>KI-Agent:</strong> "Gerne! Womit kann ich Ihnen helfen?"</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 text-center">
                            <div class="bg-blue-50/80 dark:bg-blue-900/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/30">
                                <div class="text-base sm:text-lg font-bold text-blue-700 dark:text-blue-300 whitespace-nowrap">0 Sek</div>
                                <div class="text-xs text-blue-600 dark:text-blue-400 break-words">Wartezeit</div>
                            </div>
                            <div class="bg-green-50/80 dark:bg-green-900/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-green-200/50 dark:border-green-700/30">
                                <div class="text-base sm:text-lg font-bold text-green-700 dark:text-green-300 whitespace-nowrap">24/7</div>
                                <div class="text-xs text-green-600 dark:text-green-400 break-words">Verfügbar</div>
                            </div>
                            <div class="bg-purple-50/80 dark:bg-purple-900/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-purple-200/50 dark:border-purple-700/30">
                                <div class="text-base sm:text-lg font-bold text-purple-700 dark:text-purple-300 whitespace-nowrap">85%</div>
                                <div class="text-xs text-purple-600 dark:text-purple-400 break-words">Sofort gelöst</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 2: Direktkontakt von Leads -->
                <div class="feature-card group relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/20 to-white/5 backdrop-blur-xl border border-white/30 p-8 hover:from-white/30 hover:to-white/10 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:-translate-y-2">
                    <div class="absolute inset-0 bg-gradient-to-br from-accent/10 to-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="flex items-center mb-6">
                            <div class="w-16 h-16 rounded-2xl flex items-center justify-center mr-4 bg-gradient-to-br from-accent to-primary-500 shadow-lg flex-shrink-0">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg sm:text-2xl font-bold text-gray-900 dark:text-white">Direktkontakt von Leads</h3>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg leading-relaxed">
                            KI kontaktiert Ihre Leads sofort nach Eintragung per Anruf. Mit Vertriebsscript, sofort, und trägt qualifizierte Interessenten in Kalender oder CRM ein.
                        </p>
                        
                        <!-- Lead Form Demo Mockup -->
                        <div class="bg-gradient-to-r from-primary-500/20 to-accent/20 dark:from-primary-800/30 dark:to-accent/30 p-4 rounded-2xl mb-6 backdrop-blur-sm border border-white/20">
                            <div class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                </svg>
                                Lead-Formular Demo:
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center bg-blue-50/80 dark:bg-blue-900/20 p-2 rounded-xl border border-blue-200/50 dark:border-blue-700/30 text-xs backdrop-blur-sm">
                                    <span class="text-blue-600 dark:text-blue-400 w-16 font-medium">Name:</span>
                                    <span class="text-blue-700 dark:text-blue-300">Max Mustermann</span>
                                </div>
                                <div class="flex items-center bg-purple-50/80 dark:bg-purple-900/20 p-2 rounded-xl border border-purple-200/50 dark:border-purple-700/30 text-xs backdrop-blur-sm">
                                    <span class="text-purple-600 dark:text-purple-400 w-16 font-medium">Tel:</span>
                                    <span class="text-purple-700 dark:text-purple-300">+49 123 456789</span>
                                </div>
                                <div class="flex items-center justify-between bg-green-50/80 dark:bg-green-900/20 p-2 rounded-xl border border-green-200/50 dark:border-green-700/30 backdrop-blur-sm">
                                    <span class="text-xs text-green-700 dark:text-green-300 font-medium">✓ Formular eingereicht</span>
                                    <div class="flex items-center text-xs text-green-600 dark:text-green-400">
                                        <div class="w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"></div>
                                        KI ruft an...
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 text-center">
                            <div class="bg-cyan-50/80 dark:bg-cyan-900/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-cyan-200/50 dark:border-cyan-700/30">
                                <div class="text-base sm:text-lg font-bold text-cyan-700 dark:text-cyan-300 whitespace-nowrap">< 30 Sek</div>
                                <div class="text-xs text-cyan-600 dark:text-cyan-400 break-words">Reaktionszeit</div>
                            </div>
                            <div class="bg-green-50/80 dark:bg-green-900/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-green-200/50 dark:border-green-700/30">
                                <div class="text-base sm:text-lg font-bold text-green-700 dark:text-green-300 whitespace-nowrap">Auto</div>
                                <div class="text-xs text-green-600 dark:text-green-400 break-words">Terminbuchung</div>
                            </div>
                            <div class="bg-purple-50/80 dark:bg-purple-900/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-purple-200/50 dark:border-purple-700/30">
                                <div class="text-base sm:text-lg font-bold text-purple-700 dark:text-purple-300 whitespace-nowrap">95%</div>
                                <div class="text-xs text-purple-600 dark:text-purple-400 break-words">Kontaktrate</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 3: Messenger Integration -->
                <div class="feature-card group relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/20 to-white/5 backdrop-blur-xl border border-white/30 p-8 lg:p-10 hover:from-white/30 hover:to-white/10 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:-translate-y-2">
                    <div class="absolute inset-0 bg-gradient-to-br from-accent/10 to-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="flex items-center mb-6">
                            <div class="w-16 h-16 rounded-2xl flex items-center justify-center mr-4 bg-gradient-to-br from-accent to-primary-500 shadow-lg flex-shrink-0">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg sm:text-2xl font-bold text-gray-900 dark:text-white">Messenger Integration</h3>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg leading-relaxed">
                            KI antwortet auf SMS, WhatsApp, Telegram + 2 weitere Messenger - 98% Öffnungsrate garantiert.
                        </p>
                        
                        <!-- Messenger Live Demo -->
                        <div class="bg-gradient-to-r from-primary-500/20 to-accent/20 dark:from-primary-800/30 dark:to-accent/30 p-4 rounded-2xl mb-6 backdrop-blur-sm border border-white/20">
                            <div class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3">Live WhatsApp Conversation:</div>
                            <div class="space-y-2">
                                <div class="bg-blue-50/80 dark:bg-blue-900/20 p-3 rounded-xl border border-blue-200/50 dark:border-blue-700/30 backdrop-blur-sm">
                                    <div class="text-xs text-blue-600 dark:text-blue-400 mb-1 font-medium">Kunde • 14:23</div>
                                    <div class="flex items-start space-x-2">
                                        <svg class="w-4 h-4 text-blue-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                                        </svg>
                                        <div class="text-sm text-blue-700 dark:text-blue-300">"Ist das Produkt noch verfügbar?"</div>
                                    </div>
                                </div>
                                <div class="bg-green-50/80 dark:bg-green-900/20 p-3 rounded-xl border border-green-200/50 dark:border-green-700/30 backdrop-blur-sm">
                                    <div class="text-xs text-green-600 dark:text-green-400 mb-1 font-medium">KI-Agent • 14:23 (sofort)</div>
                                    <div class="flex items-start space-x-2">
                                        <svg class="w-4 h-4 text-green-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                        </svg>
                                        <div class="text-sm text-green-700 dark:text-green-300">"Ja, haben wir vorrätig! 15 Stück verfügbar. Soll ich Ihnen 20% Rabatt reservieren? Link: shop.de/produkt123"</div>
                                    </div>
                                </div>
                                <div class="flex items-center justify-center">
                                    <div class="flex items-center space-x-1 text-xs text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/20 px-2 py-1 rounded-full">
                                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                        </svg>
                                        <span>Automatisch beantwortet + Verkaufschance genutzt</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 text-center">
                            <div class="bg-purple-50/80 dark:bg-purple-900/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-purple-200/50 dark:border-purple-700/30">
                                <div class="text-base sm:text-lg font-bold text-purple-700 dark:text-purple-300 whitespace-nowrap">98%</div>
                                <div class="text-xs text-purple-600 dark:text-purple-400 break-words">Öffnungsrate</div>
                            </div>
                            <div class="bg-cyan-50/80 dark:bg-cyan-900/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-cyan-200/50 dark:border-cyan-700/30">
                                <div class="text-base sm:text-lg font-bold text-cyan-700 dark:text-cyan-300 whitespace-nowrap">5 Sek</div>
                                <div class="text-xs text-cyan-600 dark:text-cyan-400 break-words">Antwortzeit</div>
                            </div>
                            <div class="bg-blue-50/80 dark:bg-blue-900/20 rounded-xl p-3 sm:p-4 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/30">
                                <div class="text-base sm:text-lg font-bold text-blue-700 dark:text-blue-300 whitespace-nowrap">24/7</div>
                                <div class="text-xs text-blue-600 dark:text-blue-400 break-words">Aktiv</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 3: Live-Integration -->
                <div class="feature-card group relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/20 to-white/5 backdrop-blur-xl border border-white/30 p-8 lg:p-10 hover:from-white/30 hover:to-white/10 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:-translate-y-2">
                    <div class="absolute inset-0 bg-gradient-to-br from-accent/10 to-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="flex items-center mb-6">
                            <div class="w-16 h-16 rounded-2xl flex items-center justify-center mr-4 bg-gradient-to-br from-accent to-primary-500 shadow-lg flex-shrink-0">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"/>
                                </svg>
                            </div>
                            <h3 class="text-lg sm:text-2xl font-bold text-gray-900 dark:text-white">Live-Integration</h3>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg leading-relaxed">
                            Jeder Call / Nachricht triggert automatisch Aktionen in Slack, CRM, E-Mail & Co.
                        </p>
                        
                        <!-- Live Integration Dashboard Mockup -->
                        <div class="bg-gradient-to-r from-primary-500/20 to-accent/20 dark:from-primary-800/30 dark:to-accent/30 p-4 rounded-2xl mb-6 backdrop-blur-sm border border-white/20">
                            <div class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"/>
                                </svg>
                                Automatische Integrationen:
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between bg-purple-50/80 dark:bg-purple-900/20 p-2 rounded-xl border border-purple-200/50 dark:border-purple-700/30 text-xs backdrop-blur-sm">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-purple-500">💬</span>
                                        <span class="text-purple-700 dark:text-purple-300 font-medium">Slack</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <span class="text-green-500 text-xs font-bold">●</span>
                                        <span class="text-purple-600 dark:text-purple-400">Benachrichtigung gesendet</span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between bg-blue-50/80 dark:bg-blue-900/20 p-2 rounded-xl border border-blue-200/50 dark:border-blue-700/30 text-xs backdrop-blur-sm">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-blue-500">📋</span>
                                        <span class="text-blue-700 dark:text-blue-300 font-medium">CRM Update</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <span class="text-green-500 text-xs font-bold">●</span>
                                        <span class="text-blue-600 dark:text-blue-400">Kontakt aktualisiert</span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between bg-blue-50 dark:bg-blue-900/30 p-2 rounded border border-blue-200 dark:border-blue-700">
                                    <span class="text-xs text-blue-700 dark:text-blue-300">🔄 Real-Time Sync aktiv</span>
                                    <div class="flex items-center text-xs text-blue-600 dark:text-blue-400">
                                        <div class="w-2 h-2 bg-blue-500 rounded-full mr-1 animate-pulse"></div>
                                        Live
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4 text-center">
                            <div class="bg-accent-50/80 dark:bg-accent-900/20 rounded-xl p-3 backdrop-blur-sm border border-accent-200/50 dark:border-accent-700/30">
                                <div class="text-lg font-bold text-accent-700 dark:text-accent-300">90%</div>
                                <div class="text-xs text-accent-600 dark:text-accent-400 break-words">Weniger Arbeit</div>
                            </div>
                            <div class="bg-blue-50/80 dark:bg-blue-900/20 rounded-xl p-3 backdrop-blur-sm border border-blue-200/50 dark:border-blue-700/30">
                                <div class="text-lg font-bold text-blue-700 dark:text-blue-300">Real-Time</div>
                                <div class="text-xs text-blue-600 dark:text-blue-400 break-words">Updates</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 4: Live-Kontrolle -->
                <div class="feature-card group relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/20 to-white/5 backdrop-blur-xl border border-white/30 p-8 lg:p-10 hover:from-white/30 hover:to-white/10 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:-translate-y-2">
                    <div class="absolute inset-0 bg-gradient-to-br from-accent/10 to-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="flex items-center mb-6">
                            <div class="w-16 h-16 rounded-2xl flex items-center justify-center mr-4 bg-gradient-to-br from-accent to-primary-500 shadow-lg flex-shrink-0">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"/>
                                </svg>
                            </div>
                            <h3 class="text-lg sm:text-2xl font-bold text-gray-900 dark:text-white">Live-Kontrolle</h3>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg leading-relaxed">
                            Manager können live eingreifen, Gespräche umleiten und Kontext übertragen.
                        </p>
                        
                        <!-- Live Control Dashboard Mockup -->
                        <div class="bg-gradient-to-r from-primary-500/20 to-accent/20 dark:from-primary-800/30 dark:to-accent/30 p-4 rounded-2xl mb-6 backdrop-blur-sm border border-white/20">
                            <div class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"/>
                                </svg>
                                Live-Dashboard:
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <button class="flex items-center space-x-1 bg-blue-50/80 dark:bg-blue-900/20 p-2 rounded-xl text-xs text-blue-700 dark:text-blue-300 border border-blue-200/50 dark:border-blue-700/30 hover:bg-blue-100/80 dark:hover:bg-blue-900/40 transition-colors backdrop-blur-sm">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                    </svg>
                                    <span>Gespräch übernehmen</span>
                                </button>
                                <button class="flex items-center space-x-1 bg-purple-50/80 dark:bg-purple-900/20 p-2 rounded-xl text-xs text-purple-700 dark:text-purple-300 border border-purple-200/50 dark:border-purple-700/30 hover:bg-purple-100/80 dark:hover:bg-purple-900/40 transition-colors backdrop-blur-sm">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                                    </svg>
                                    <span>An Experten weiterleiten</span>
                                </button>
                                <button class="flex items-center space-x-1 bg-indigo-50/80 dark:bg-indigo-900/20 p-2 rounded-xl text-xs text-indigo-700 dark:text-indigo-300 border border-indigo-200/50 dark:border-indigo-700/30 hover:bg-indigo-100/80 dark:hover:bg-indigo-900/40 transition-colors backdrop-blur-sm">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                                    </svg>
                                    <span>Notiz hinzufügen</span>
                                </button>
                                <button class="flex items-center space-x-1 bg-red-50/80 dark:bg-red-900/20 p-2 rounded-xl text-xs text-red-700 dark:text-red-300 border border-red-200/50 dark:border-red-700/30 hover:bg-red-100/80 dark:hover:bg-red-900/40 transition-colors backdrop-blur-sm">
                                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.232 16.5c-.77.833.192 2.5 1.732 2.5z"/>
                                    </svg>
                                    <span>Eskalation</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4 text-center">
                            <div class="bg-primary-50/80 dark:bg-primary-900/20 rounded-xl p-3 backdrop-blur-sm border border-primary-200/50 dark:border-primary-700/30">
                                <div class="text-lg font-bold text-primary-700 dark:text-primary-300">70%</div>
                                <div class="text-xs text-primary-600 dark:text-primary-400 break-words">Kürzere Gespräche</div>
                            </div>
                            <div class="bg-green-50/80 dark:bg-green-900/20 rounded-xl p-3 backdrop-blur-sm border border-green-200/50 dark:border-green-700/30">
                                <div class="text-lg font-bold text-green-700 dark:text-green-300">100%</div>
                                <div class="text-xs text-green-600 dark:text-green-400 break-words">Kontext erhalten</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 5: KI-Analytics -->
                <div class="feature-card group relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/20 to-white/5 backdrop-blur-xl border border-white/30 p-8 lg:p-10 hover:from-white/30 hover:to-white/10 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:-translate-y-2">
                    <div class="absolute inset-0 bg-gradient-to-br from-accent/10 to-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="flex items-center mb-6">
                            <div class="w-16 h-16 rounded-2xl flex items-center justify-center mr-4 bg-gradient-to-br from-accent to-primary-500 shadow-lg flex-shrink-0">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg sm:text-2xl font-bold text-gray-900 dark:text-white">KI-Analytics</h3>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg leading-relaxed">
                            Detaillierte Insights zu jedem Gespräch - Sentiment, Erfolgsrate, Optimierungen.
                        </p>
                        
                        <div class="bg-gradient-to-r from-primary-500/20 to-accent/20 dark:from-primary-800/30 dark:to-accent/30 p-6 rounded-2xl mb-6 backdrop-blur-sm border border-white/20">
                            <div class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4">Live-Metriken:</div>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-yellow-50/80 dark:bg-yellow-900/20 p-3 rounded-xl border border-yellow-200/50 dark:border-yellow-700/30 backdrop-blur-sm">
                                    <div class="text-xs text-yellow-600 dark:text-yellow-400">Sentiment Score</div>
                                    <div class="flex items-center space-x-1">
                                        <svg class="w-4 h-4 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                        <div class="text-xl font-bold text-yellow-700 dark:text-yellow-300">8.5/10</div>
                                    </div>
                                </div>
                                <div class="bg-green-50/80 dark:bg-green-900/20 p-3 rounded-xl border border-green-200/50 dark:border-green-700/30 backdrop-blur-sm">
                                    <div class="text-xs text-green-600 dark:text-green-400">Conversion Rate</div>
                                    <div class="flex items-center space-x-1">
                                        <svg class="w-4 h-4 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                                        </svg>
                                        <div class="text-xl font-bold text-green-700 dark:text-green-300">34%</div>
                                    </div>
                                </div>
                                <div class="bg-blue-50/80 dark:bg-blue-900/20 p-3 rounded-xl border border-blue-200/50 dark:border-blue-700/30 backdrop-blur-sm">
                                    <div class="text-xs text-blue-600 dark:text-blue-400">Ø Gesprächsdauer</div>
                                    <div class="flex items-center space-x-1">
                                        <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                        </svg>
                                        <div class="text-xl font-bold text-blue-700 dark:text-blue-300">4:32</div>
                                    </div>
                                </div>
                                <div class="bg-emerald-50/80 dark:bg-emerald-900/20 p-3 rounded-xl border border-emerald-200/50 dark:border-emerald-700/30 backdrop-blur-sm">
                                    <div class="text-xs text-emerald-600 dark:text-emerald-400">Erfolgsrate</div>
                                    <div class="flex items-center space-x-1">
                                        <svg class="w-4 h-4 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                        </svg>
                                        <div class="text-xl font-bold text-emerald-700 dark:text-emerald-300">87%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Feature 6: Web-Voice Chat -->
                <div class="feature-card group relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/20 to-white/5 backdrop-blur-xl border border-white/30 p-8 lg:p-10 hover:from-white/30 hover:to-white/10 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:-translate-y-2">
                    <div class="absolute inset-0 bg-gradient-to-br from-accent/10 to-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                    <div class="relative z-10">
                        <div class="flex items-center mb-6">
                            <div class="w-16 h-16 rounded-2xl flex items-center justify-center mr-4 bg-gradient-to-br from-accent to-primary-500 shadow-lg flex-shrink-0">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"/>
                                </svg>
                            </div>
                            <h3 class="text-lg sm:text-2xl font-bold text-gray-900 dark:text-white">Web-Voice Chat</h3>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-6 text-lg leading-relaxed">
                            Voice-Chat direkt auf Ihrer Website - 300% höhere Engagement-Rate.
                        </p>
                        
                        <div class="bg-gradient-to-r from-primary-500/20 to-accent/20 dark:from-primary-800/30 dark:to-accent/30 p-6 rounded-2xl mb-6 backdrop-blur-sm border border-white/20">
                            <div class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3">Live auf Ihrer Website:</div>
                            <div class="flex items-center justify-between bg-white/40 dark:bg-gray-800/40 p-4 rounded-xl border border-white/30">
                                <div class="flex items-center space-x-2">
                                    <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"/>
                                    </svg>
                                    <span class="text-sm text-gray-600 dark:text-gray-400">"Ich interessiere mich für..."</span>
                                </div>
                                <button class="bg-gradient-to-r from-primary-500 to-accent text-white px-4 py-2 rounded-lg text-sm font-bold hover:from-primary-600 hover:to-accent/90 transition-all duration-300 shadow-lg">
                                    Sprechen
                                </button>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4 text-center">
                            <div class="bg-emerald-50/80 dark:bg-emerald-900/20 rounded-xl p-3 backdrop-blur-sm border border-emerald-200/50 dark:border-emerald-700/30">
                                <div class="text-2xl font-bold text-emerald-700 dark:text-emerald-300">300%</div>
                                <div class="text-xs text-emerald-600 dark:text-emerald-400">Höheres Engagement</div>
                            </div>
                            <div class="bg-teal-50/80 dark:bg-teal-900/20 rounded-xl p-3 backdrop-blur-sm border border-teal-200/50 dark:border-teal-700/30">
                                <div class="text-2xl font-bold text-teal-700 dark:text-teal-300">5 Min</div>
                                <div class="text-xs text-teal-600 dark:text-teal-400">Setup-Zeit</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Popular Use Cases Section -->
            <div class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">
                        Beliebte Anwendungsfälle
                    </h2>
                    <p class="text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
                        Bewährte KI-Voice-Lösungen für verschiedene Branchen und Anwendungen
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">
                    <!-- Customer Support -->
                    <div class="bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-3xl p-8 border border-blue-200/50 dark:border-blue-800/30 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center mb-6">
                            <div class="w-14 h-14 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-md flex items-center justify-center mr-4 flex-shrink-0">
                                <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-sm sm:text-lg font-bold text-gray-900 dark:text-white">Kundensupport</h3>
                                <span class="text-sm text-blue-600 dark:text-blue-400 font-medium">Mit Assistenten gebaut</span>
                            </div>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            Automatisieren Sie eingehende Support-Anrufe mit Agenten, die auf Ihre Wissensdatenbank zugreifen und bei Bedarf an Menschen weiterleiten können.
                        </p>
                        <div class="flex items-center text-sm text-blue-600 dark:text-blue-400 font-medium">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                            24/7 Verfügbarkeit, Sofortige Antworten
                        </div>
                    </div>
                    
                    <!-- Sales & Lead Qualification -->
                    <div class="bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/20 dark:to-emerald-900/20 rounded-3xl p-8 border border-green-200/50 dark:border-green-800/30 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center mb-6">
                            <div class="w-14 h-14 bg-gradient-to-r from-green-500 to-emerald-600 rounded-md flex items-center justify-center mr-4 flex-shrink-0">
                                <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-sm sm:text-lg font-bold text-gray-900 dark:text-white">Vertrieb & Lead-Qualifizierung</h3>
                                <span class="text-sm text-green-600 dark:text-green-400 font-medium">Mit Assistenten gebaut</span>
                            </div>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            Führen Sie ausgehende Verkaufsgespräche, qualifizieren Sie Leads und vereinbaren Sie Termine mit intelligenter Verzweigungslogik.
                        </p>
                        <div class="flex items-center text-sm text-green-600 dark:text-green-400 font-medium">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                            Automatische Terminvereinbarung, CRM-Integration
                        </div>
                    </div>
                    
                    <!-- Appointment Scheduling -->
                    <div class="bg-gradient-to-br from-purple-50 to-violet-100 dark:from-purple-900/20 dark:to-violet-900/20 rounded-3xl p-8 border border-purple-200/50 dark:border-purple-800/30 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center mb-6">
                            <div class="w-14 h-14 bg-gradient-to-r from-purple-500 to-violet-600 rounded-md flex items-center justify-center mr-4 flex-shrink-0">
                                <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-sm sm:text-lg font-bold text-gray-900 dark:text-white">Terminplanung</h3>
                                <span class="text-sm text-purple-600 dark:text-purple-400 font-medium">Mit Assistenten gebaut</span>
                            </div>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            Bearbeiten Sie Buchungsanfragen, prüfen Sie Verfügbarkeiten und bestätigen Sie Termine mit bedingter Weiterleitung.
                        </p>
                        <div class="flex items-center text-sm text-purple-600 dark:text-purple-400 font-medium">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                            Kalender-Integration, Automatische Bestätigung
                        </div>
                    </div>
                    
                    <!-- Medical Triage & Scheduling -->
                    <div class="bg-gradient-to-br from-red-50 to-pink-100 dark:from-red-900/20 dark:to-pink-900/20 rounded-3xl p-8 border border-red-200/50 dark:border-red-800/30 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center mb-6">
                            <div class="w-14 h-14 bg-gradient-to-r from-red-500 to-pink-600 rounded-md flex items-center justify-center mr-4 flex-shrink-0">
                                <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-sm sm:text-lg font-bold text-gray-900 dark:text-white">Medizinische Triage & Planung</h3>
                                <span class="text-sm text-red-600 dark:text-red-400 font-medium">Mit Squads gebaut</span>
                            </div>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            Notfall-Weiterleitung und Terminplanung für das Gesundheitswesen.
                        </p>
                        <div class="flex items-center text-sm text-red-600 dark:text-red-400 font-medium">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                            Prioritäts-Routing, HIPAA-Konform
                        </div>
                    </div>
                    
                    <!-- E-commerce Order Management -->
                    <div class="bg-gradient-to-br from-orange-50 to-amber-100 dark:from-orange-900/20 dark:to-amber-900/20 rounded-3xl p-8 border border-orange-200/50 dark:border-orange-800/30 hover:scale-105 transition-all duration-300">
                        <div class="flex items-center mb-6">
                            <div class="w-14 h-14 bg-gradient-to-r from-orange-500 to-amber-600 rounded-md flex items-center justify-center mr-4 flex-shrink-0">
                                <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-sm sm:text-lg font-bold text-gray-900 dark:text-white">E-Commerce Bestellmanagement</h3>
                                <span class="text-sm text-orange-600 dark:text-orange-400 font-medium">Mit Squads gebaut</span>
                            </div>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            Bestellverfolgung, Rücksendungen und Kundensupport-Workflows.
                        </p>
                        <div class="flex items-center text-sm text-orange-600 dark:text-orange-400 font-medium">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                            </svg>
                            Shop-Integration, Automatische Updates
                        </div>
                    </div>
                    
                    <!-- See more examples -->
                    <div class="bg-gradient-to-br from-gray-50 to-slate-100 dark:from-gray-900/40 dark:to-slate-900/40 rounded-3xl p-8 border border-gray-200/50 dark:border-gray-700/30 hover:scale-105 transition-all duration-300 flex items-center justify-center cursor-pointer" onclick="openExamplesModal()">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-r from-gray-400 to-slate-500 rounded-2xl flex items-center justify-center mx-auto mb-4">
                                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Weitere Beispiele</h3>
                            <p class="text-gray-600 dark:text-gray-300 mb-4">
                                Entdecken Sie unsere Sammlung von Beispielen für verschiedene Anwendungsfälle.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Business Applications CTA -->
            <div class="text-center my-20 lg:my-32">
                <div class="bg-white/60 dark:bg-gray-800/60 rounded-2xl p-8 border border-gray-200/50 dark:border-gray-700/50 backdrop-blur-sm">
                    <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Wie kann KI-Automation Ihr Geschäft unterstützen?</h3>
                    <p class="text-gray-600 dark:text-gray-300 mb-6 max-w-2xl mx-auto">
                        Entdecken Sie bewährte Anwendungsfälle, die Unternehmen dabei helfen, 
                        Prozesse zu optimieren und Kundenerfahrungen zu verbessern.
                    </p>
                    <button onclick="showExamplesModal()" 
                            class="bg-primary-600 dark:bg-primary-500 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 dark:hover:bg-primary-600 transition-colors duration-200 shadow-sm">
                        Anwendungsbeispiele ansehen
                    </button>
                </div>
            </div>

            <!-- Multi-assistant orchestration -->
            <div class="bg-gradient-to-r from-primary-500/10 to-accent/10 rounded-3xl p-10 md:p-12 lg:p-16 border border-primary-200/20 mt-12 lg:mt-20 mb-12 lg:mb-20">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-gradient-to-r from-primary-500 to-accent rounded-2xl flex items-center justify-center mx-auto mb-6">
                        <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
                                </svg>
                            </div>
                    <h3 id="expert-team" class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4">Ihr intelligentes Expertenteam - immer verfügbar</h3>
                    <p class="text-xl text-gray-600 dark:text-gray-300 mb-6 max-w-4xl mx-auto leading-relaxed">
                        Stellen Sie sich vor: Statt einem Allround-Assistenten haben Sie ein ganzes Squad aus Spezialisten, das perfekt zusammenarbeitet.
                    </p>
                    
                    <!-- Customer Benefits Section -->
                    <div class="bg-white/20 dark:bg-gray-800/20 rounded-2xl p-8 mb-8 max-w-5xl mx-auto">
                        <h4 class="text-2xl font-bold text-gray-900 dark:text-white mb-6 text-center">So funktioniert's in der Praxis:</h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-16 md:gap-12 lg:gap-20 mb-8">
                            <!-- Automatic Routing -->
                            <div class="text-center">
                                <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"/>
                                    </svg>
                                </div>
                                <h5 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Automatische Weiterleitung</h5>
                                <div class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
                                    <p>Kunde fragt nach Preisen → <strong>Verkaufs-Assistent</strong> übernimmt</p>
                                    <p>Technische Frage → <strong>Support-Experte</strong> springt ein</p>
                                    <p>Terminanfrage? → <strong>Terminmanager</strong> regelt das sofort</p>
                                </div>
                            </div>

                            <!-- Expert Knowledge -->
                            <div class="text-center">
                                <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.01v.008H12v-.008z"/>
                                    </svg>
                                </div>
                                <h5 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Perfekte Fachkenntnisse</h5>
                                <div class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
                                    <p><strong>Verkauf:</strong> Kennt jeden Produktvorteil und Preis</p>
                                    <p><strong>Support:</strong> Hat alle technischen Lösungen parat</p>
                                    <p><strong>Service:</strong> Weiß, wer wann verfügbar ist</p>
                                </div>
                            </div>

                            <!-- Seamless Experience -->
                            <div class="text-center">
                                <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6">
                                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                                    </svg>
                                </div>
                                <h5 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Nahtlose Übergaben</h5>
                                <div class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
                                    <p>Keine Wiederholung von Informationen</p>
                                    <p>Kein "Moment, ich verbinde Sie weiter"</p>
                                    <p>Ein fließendes Gespräch von Anfang bis Ende</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Results Section -->
                        <div class="bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-xl p-6">
                            <h5 class="text-lg font-bold text-gray-900 dark:text-white mb-4 text-center">Das Ergebnis für Sie:</h5>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                    </svg>
                                    <span class="text-sm text-gray-700 dark:text-gray-300">Jede Kundenanfrage landet beim richtigen Experten</span>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                    </svg>
                                    <span class="text-sm text-gray-700 dark:text-gray-300">Schnellere, präzisere Antworten</span>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                    </svg>
                                    <span class="text-sm text-gray-700 dark:text-gray-300">Zufriedenere Kunden durch kompetente Beratung</span>
                                </div>
                                <div class="flex items-center space-x-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                                    </svg>
                                    <span class="text-sm text-gray-700 dark:text-gray-300">Ihr Team kann sich auf wichtigere Aufgaben konzentrieren</span>
                                </div>
                            </div>
                            
                            <div class="text-center mt-6">
                                <p class="text-lg font-semibold text-gray-900 dark:text-white italic">
                                    Ein Assistent-Team, das niemals Pause braucht - und trotzdem jeden Fachbereich perfekt beherrscht.
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-primary-600 dark:text-primary-400 mb-2">Spezialisiert</div>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Jeder Assistent für spezifische Aufgaben optimiert</p>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-accent mb-2">Nahtlos</div>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Automatische Übergaben zwischen Assistenten</p>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-secondary-600 mb-2">Skalierbar</div>
                            <p class="text-gray-600 dark:text-gray-300 text-sm">Beliebig viele Assistenten orchestrieren</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="text-center bg-gradient-to-r from-primary-500 to-accent rounded-3xl p-12 lg:p-16 text-white animate-fade-in shadow-2xl">
                <h3 class="text-4xl font-bold mb-6">Bereit für Voice-AI der nächsten Generation?</h3>
                <p class="text-xl mb-8 opacity-90">
                    Starten Sie noch heute mit den mächtigsten Voice-AI Features für Ihr Business.
                </p>
                <div class="flex justify-center">
                    <a href="{{ calendly_link or 'https://calendly.com/oliver-spitzkat-wsp/30min' }}" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       class="bg-white text-primary-600 px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-lg inline-block text-center no-underline">
                        {{ cta_text or "Möglichkeiten besprechen" }}
                    </a>
                </div>
            </div>
        </section>

    </main>

    <!-- Toast Notification -->
    <div id="toast" class="fixed bottom-4 right-4 z-50 transform translate-y-full opacity-0 transition-all duration-300">
        <div class="glass-effect rounded-xl p-4 shadow-xl max-w-sm">
            <div class="flex items-center">
                <div id="toastIcon" class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center mr-3">
                    <!-- Icon will be inserted here -->
                </div>
                <div>
                    <p id="toastTitle" class="font-semibold text-gray-900 dark:text-white"></p>
                    <p id="toastMessage" class="text-sm text-gray-600 dark:text-gray-400"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Global Variables und Helper Functions
        window.vapi = null;
        window.isCallActive = false;
        window.isListening = false;
        window.isVoiceConnected = false;
        window.vapiSessionId = null;
        window.vapiSessionCreated = false;
        window.chatHistory = [];

        // Logo fallback system
        window.logoUrls = {{ logo_urls | tojson | safe }};
        window.currentLogoIndex = 0;

        function tryNextLogo(imgElement) {
            currentLogoIndex++;
            if (currentLogoIndex < logoUrls.length) {
                console.log(`Trying logo ${currentLogoIndex + 1}: ${logoUrls[currentLogoIndex]}`);
                imgElement.src = logoUrls[currentLogoIndex];
            } else {
                // All logos failed, show beautiful default chat icon
                console.log('All logos failed, showing beautiful default chat icon');
                imgElement.style.display = 'none';
                document.getElementById('defaultLogo').style.display = 'flex';
            }
        }

        // Enhanced logo validation - reject low quality/broken images
        window.validateLogo = function(imgElement) {
            // Only reject completely broken images
            if (imgElement.naturalWidth === 0 || imgElement.naturalHeight === 0) {
                console.log('❌ Logo rejected: failed to load', imgElement.src);
                tryNextLogo(imgElement);
                return false;
            }
            
            console.log('✅ Logo validated successfully:', imgElement.src, `${imgElement.naturalWidth}x${imgElement.naturalHeight}`);
            
            // Adjust logo size based on actual dimensions
            if (imgElement.naturalWidth <= 32 && imgElement.naturalHeight <= 32) {
                // Small favicon - make it smaller
                imgElement.style.width = '32px';
                imgElement.style.height = '32px';
                console.log('📏 Adjusted small favicon size to 32x32px');
            } else if (imgElement.naturalWidth <= 64 && imgElement.naturalHeight <= 64) {
                // Medium logo - make it medium
                imgElement.style.width = '48px';
                imgElement.style.height = '48px';
                console.log('📏 Adjusted medium logo size to 48x48px');
            } else if (imgElement.naturalWidth <= 128 && imgElement.naturalHeight <= 128) {
                // Large logo - use good size
                imgElement.style.width = '64px';
                imgElement.style.height = '64px';
                console.log('📏 Adjusted large logo size to 64x64px');
            } else {
                // Very large logo - keep default size (64px)
                imgElement.style.width = '64px';
                imgElement.style.height = '64px';
                console.log('📏 Using default size for very large logo (64x64px)');
            }
            
            return true;
        }

        // Force show fallback logo if no logo URLs or they fail
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const logoImg = document.getElementById('dynamicLogo');
                const defaultLogo = document.getElementById('defaultLogo');
                
                if (!logoImg || logoImg.style.display === 'none' || logoImg.naturalWidth === 0) {
                    if (defaultLogo) {
                        defaultLogo.style.display = 'flex';
                        console.log('🎨 Using default gradient logo');
                    }
                }
            }, 1000);
        });
    </script>

    <script>
            /* Original Backend API Code - kann später wieder aktiviert werden
            try {
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        message: message,
                        assistant_id: VAPI_CONFIG.assistantId,
                        session_id: window.vapiChatSessionId || null,
                        customer_domain: VAPI_CONFIG.assistantOverrides?.variableValues?.customer_domain || null,
                        customer_name: VAPI_CONFIG.assistantOverrides?.variableValues?.customer_name || null,
                        customer_email: VAPI_CONFIG.assistantOverrides?.variableValues?.customer_email || null,
                        company_name: VAPI_CONFIG.assistantOverrides?.variableValues?.company_name || null,
                        calendly_link: VAPI_CONFIG.assistantOverrides?.variableValues?.calendly_link || null
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);
                }

                const chatResponse = await response.json();
                hideTypingIndicator();
                
                if (chatResponse.session_id) {
                    window.vapiChatSessionId = chatResponse.session_id;
                }
                
                if (chatResponse.success && chatResponse.message) {
                    addChatMessage(chatResponse.message, 'assistant');
                } else {
                    addChatMessage('Entschuldigung, ich konnte keine Antwort generieren.', 'assistant');
                }
                
            } catch (error) {
                console.error('Chat API Error:', error);
                hideTypingIndicator();
                addChatMessage('Entschuldigung, es gab einen Fehler bei der Verarbeitung Ihrer Nachricht.', 'assistant');
                showToast('Chat Fehler', error.message || 'Verbindung zur Chat API fehlgeschlagen', 'error');
            }
            */
    </script>

    <!-- JavaScript Files with optimized loading -->
    <!-- Critical scripts loaded immediately -->
    <script src="/static/js/config-status.js?v=20250906"></script>
    <script src="/static/js/dark-mode.js?v=20250906"></script>
    <script src="/static/js/voice-functions.js?v=20250906"></script>
    <script src="/static/js/event-listeners.js?v=20250911-session-fix"></script>
    <script src="/static/js/vapi-credentials.js?v=20250906"></script>
    <script src="/static/js/draggable-voice-container.js?v=20250912"></script>
    
    <!-- Auto-initialize Draggable Voice Container -->
    <script>
        // Auto-initialize draggable container when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🎯 Auto-initializing draggable voice container...');
            
            // Wait a bit for all other scripts to load
            setTimeout(() => {
                if (window.DraggableVoiceContainer) {
                    try {
                        window.draggableInstance = new DraggableVoiceContainer();
                        console.log('✅ Draggable voice container auto-initialized successfully!');
                    } catch (error) {
                        console.error('❌ Failed to auto-initialize draggable container:', error);
                    }
                } else {
                    console.warn('⚠️ DraggableVoiceContainer class not found');
                }
            }, 100);
        });
    </script>
    
    <!-- Non-critical scripts loaded asynchronously -->
    <script>
        // Load non-critical scripts asynchronously
        const loadScript = (src) => {
            const script = document.createElement('script');
            script.src = src;
            script.async = true;
            document.head.appendChild(script);
        };
        
        // Load after DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            loadScript('/static/js/toast-notifications.js?v=20250906');
            loadScript('/static/js/chat-functions.js?v=20250911-fix2');
                loadScript('/static/js/message-polling.js?v=20250912_polling_fix');
        });
    </script>
    
    <!-- Voice Button Glow Animation Control -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const animatedGlow = document.getElementById('animatedGlow');
            const vapiVoiceButton = document.getElementById('vapiVoiceButton');
            let animationStopped = false;
            
            // Start the glow animation
            if (animatedGlow) {
                animatedGlow.style.opacity = '1';
            }
            
            // Stop animation after 1 minute
            setTimeout(() => {
                if (!animationStopped && animatedGlow) {
                    stopGlowAnimation();
                }
            }, 60000); // 1 minute
            
            // Stop animation on first voice interaction
            function stopGlowAnimation() {
                if (animatedGlow && !animationStopped) {
                    animatedGlow.style.animation = 'none';
                    animatedGlow.style.opacity = '0';
                    animationStopped = true;
                }
            }
            
            // Listen for voice button clicks
            if (vapiVoiceButton) {
                vapiVoiceButton.addEventListener('click', stopGlowAnimation);
            }
            
            // Listen for VAPI events (if available)
            if (window.vapi) {
                window.vapi.on('call-start', stopGlowAnimation);
                window.vapi.on('call-end', stopGlowAnimation);
            }
            
            // Performance: Load all elements statically - no scroll animations
            // Set all elements to their final state immediately
            const allElements = document.querySelectorAll(`
                .feature-card, 
                .glass-effect,
                .grid > div,
                .flex > div,
                .bg-white:not(body),
                .bg-gray-900:not(body),
                .bg-gradient-to-r:not(body),
                .bg-gradient-to-br:not(body),
                section,
                .grid,
                .flex
            `);
            
            allElements.forEach(element => {
                // Set final state immediately - no animations
                element.style.opacity = '1';
                element.style.transform = 'translateY(0)';
                element.style.transition = 'none';
                element.style.willChange = 'auto';
            });
        });
    </script>





    <!-- Revenue Examples Popup -->
    <div id="examplesModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden opacity-0 transition-all duration-300">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white dark:bg-gray-900 rounded-3xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto transform scale-95 transition-all duration-300" id="modalContent">
                <!-- Header -->
                <div class="bg-gradient-to-r from-primary-500 to-accent p-6 rounded-t-3xl text-white">
                    <div class="flex justify-between items-center">
                        <div>
                            <h2 class="text-2xl md:text-3xl font-bold mb-2">KI-Anwendungsfälle für Ihr Unternehmen</h2>
                            <p class="text-white/90">Bewährte Lösungen für effizientere Geschäftsprozesse</p>
                        </div>
                        <button onclick="closeExamplesModal()" class="text-white/80 hover:text-white text-2xl font-bold">
                            ✕
                        </button>
                    </div>
                </div>
                
                <!-- Content -->
                <div class="p-6 md:p-8">
                    <!-- Revenue Examples Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        
                        <!-- Upselling & Cross-Selling -->
                        <div class="bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-6 rounded-2xl border border-green-200/50 dark:border-green-700/50">
                            <div class="flex items-start mb-4">
                                <div class="w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center mr-4">
                                    <span class="text-white text-xl">📈</span>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 dark:text-white">Intelligentes Upselling</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Höhere Warenkorbwerte durch gezielte Empfehlungen</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-700 dark:text-gray-300 mb-3">
                                "Sie kaufen die Grundversion? Perfekt! Für nur 20€ mehr bekommen Sie auch Premium-Support und erweiterte Features dazu. Das nutzen viele unserer Kunden."
                            </p>
                            <div class="bg-white/60 dark:bg-gray-800/60 rounded-lg p-3">
                                <span class="text-green-600 font-semibold">Messbare Steigerung der durchschnittlichen Bestellwerte</span>
                            </div>
                        </div>

                        <!-- Terminqualifizierung -->
                        <div class="bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 p-6 rounded-2xl border border-blue-200/50 dark:border-blue-700/50">
                            <div class="flex items-start mb-4">
                                <div class="w-12 h-12 bg-blue-500 rounded-xl flex items-center justify-center mr-4">
                                    <span class="text-white text-xl">⏰</span>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 dark:text-white">Qualifizierte Termine</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Bessere Terminqualität durch Vorqualifizierung</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-700 dark:text-gray-300 mb-3">
                                KI qualifiziert Interessenten vor: Budget, Zeitrahmen, Entscheidungsbefugnis. Nur ernst gemeinte Termine landen bei Ihrem Vertrieb.
                            </p>
                            <div class="bg-white/60 dark:bg-gray-800/60 rounded-lg p-3">
                                <span class="text-blue-600 font-semibold">Deutliche Zeitersparnis für Ihr Vertriebsteam</span>
                            </div>
                        </div>

                        <!-- Bestandskundenreaktivierung -->
                        <div class="bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-6 rounded-2xl border border-purple-200/50 dark:border-purple-700/50">
                            <div class="flex items-start mb-4">
                                <div class="w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center mr-4">
                                    <span class="text-white text-xl">🔄</span>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 dark:text-white">Kundenrückgewinnung</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Systematische Reaktivierung inaktiver Kunden</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-700 dark:text-gray-300 mb-3">
                                "Wir vermissen Sie! Hier ist ein exklusives Angebot nur für Sie. Was können wir besser machen?"
                            </p>
                            <div class="bg-white/60 dark:bg-gray-800/60 rounded-lg p-3">
                                <span class="text-purple-600 font-semibold">Erfolgreiche Rückgewinnung wertvoller Bestandskunden</span>
                            </div>
                        </div>

                        <!-- Instant-Problemlösung -->
                        <div class="bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-6 rounded-2xl border border-orange-200/50 dark:border-orange-700/50">
                            <div class="flex items-start mb-4">
                                <div class="w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center mr-4">
                                    <span class="text-white text-xl">⚡</span>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 dark:text-white">Proaktive Problemlösung</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Reduzierte Kündigungsraten durch schnelle Reaktion</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-700 dark:text-gray-300 mb-3">
                                Frustrierte Kunden werden sofort abgefangen, Problem gelöst, und angemessen entschädigt - bevor sie kündigen.
                            </p>
                            <div class="bg-white/60 dark:bg-gray-800/60 rounded-lg p-3">
                                <span class="text-orange-600 font-semibold">Signifikante Verringerung der Kündigungsrate</span>
                            </div>
                        </div>

                        <!-- Event-basierte Angebote -->
                        <div class="bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 p-6 rounded-2xl border border-teal-200/50 dark:border-teal-700/50">
                            <div class="flex items-start mb-4">
                                <div class="w-12 h-12 bg-teal-500 rounded-xl flex items-center justify-center mr-4">
                                    <span class="text-white text-xl">🎯</span>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 dark:text-white">Kontextuelle Angebote</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Passende Angebote zum richtigen Zeitpunkt</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-700 dark:text-gray-300 mb-3">
                                "Ich sehe, Sie schauen nach Hotels in München. Ich habe ein passendes Angebot für Sie!"
                            </p>
                            <div class="bg-white/60 dark:bg-gray-800/60 rounded-lg p-3">
                                <span class="text-teal-600 font-semibold">Verbesserte Conversion durch optimales Timing</span>
                            </div>
                        </div>

                        <!-- Subscription Upgrade -->
                        <div class="bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 p-6 rounded-2xl border border-yellow-200/50 dark:border-yellow-700/50">
                            <div class="flex items-start mb-4">
                                <div class="w-12 h-12 bg-yellow-500 rounded-xl flex items-center justify-center mr-4">
                                    <span class="text-white text-xl">⭐</span>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-900 dark:text-white">Intelligente Upgrades</h3>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Datenbasierte Upgrade-Empfehlungen</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-700 dark:text-gray-300 mb-3">
                                "Sie nutzen bereits einen Großteil Ihres Plans. Möchten Sie ein Upgrade mit zusätzlichen Benefits?"
                            </p>
                            <div class="bg-white/60 dark:bg-gray-800/60 rounded-lg p-3">
                                <span class="text-yellow-600 font-semibold">Erhöhung der monatlich wiederkehrenden Umsätze</span>
                            </div>
                        </div>
                    </div>

                    <!-- Call to Action -->
                    <div class="bg-gradient-to-r from-primary-500/10 to-accent/10 rounded-2xl p-8 text-center border border-primary-200/20">
                        <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">
                            {{ cta_text or "Lassen Sie uns Ihre individuellen Möglichkeiten besprechen" }}
                        </h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-6 max-w-2xl mx-auto">
                            Jedes Unternehmen ist anders. In einem kurzen Gespräch zeigen wir Ihnen, 
                            welche KI-Automatisierungen für <strong>Ihr</strong> Business am besten geeignet sind.
                        </p>
                        
                        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                            <a href="{{ calendly_link or 'https://calendly.com/oliver-spitzkat-wsp/30min' }}" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               class="bg-gradient-to-r from-primary-500 to-accent text-white px-8 py-4 rounded-xl font-bold text-lg hover:from-primary-600 hover:to-accent/90 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center space-x-2">
                                <span>📅</span>
                                <span>{{ cta_text or "Beratungsgespräch vereinbaren" }}</span>
                            </a>
                            <div class="text-sm text-gray-500 dark:text-gray-400">
                                ⏱️ 15-30 Minuten | Kostenlos & unverbindlich
                            </div>
                        </div>
                        
                        <div class="mt-6 text-xs text-gray-500 dark:text-gray-400">
                            ✅ Keine Verkaufspräsentation • ✅ Konkrete Handlungsempfehlungen • ✅ Individuelle Beratung für Ihr Business
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modern Footer -->
    <footer class="bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-24 lg:mt-32">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <!-- Main Footer Content -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-12">
                <!-- Company Info -->
                <div class="md:col-span-2">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">
                        {{ saas_company_name or company_name }}
                    </h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4 max-w-md">
                        Ihr intelligenter KI-Assistent für {{ company_name }}. 
                        Voice-First Technologie für bessere Kundenkommunikation.
                    </p>
                    {% if calendly_link %}
                    <a href="{{ calendly_link }}" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       class="inline-flex items-center text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200">
                        {{ cta_text or "Termin vereinbaren" }} →
                    </a>
                    {% endif %}
                </div>
                
                <!-- Rechtliches -->
                <div>
                    <h4 class="text-sm font-semibold text-gray-900 dark:text-white mb-4">Rechtliches</h4>
                    <ul class="space-y-2">
                        <li>
                            <button onclick="openLegalModal('Impressum', '{{ impressum_url or '' }}')" 
                                    class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200">
                                Impressum
                            </button>
                        </li>
                        <li>
                            <button onclick="openLegalModal('Datenschutz', '{{ privacy_url or '' }}')" 
                                    class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200">
                                Datenschutz
                            </button>
                        </li>
                        <li>
                            <button onclick="openLegalModal('AGB', '{{ terms_url or '' }}')" 
                                    class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200">
                                AGB
                            </button>
                        </li>
                    </ul>
                </div>
                
                <!-- Kontakt -->
                <div>
                    <h4 class="text-sm font-semibold text-gray-900 dark:text-white mb-4">Kontakt</h4>
                    <ul class="space-y-2">
                        <li>
                            <button onclick="openContactModal()" 
                                    class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200">
                                Kontakt aufnehmen
                            </button>
                        </li>
                        {% if calendly_link %}
                        <li>
                            <a href="{{ calendly_link }}" 
                               target="_blank" 
                               rel="noopener noreferrer"
                               class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200">
                                {{ cta_text or "Termin buchen" }}
                            </a>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
            
            <!-- Bottom Section -->
            <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
                <!-- Copyright -->
                <div class="text-sm text-gray-500 dark:text-gray-400">
                    © 2025 {{ saas_company_name or company_name }}. Alle Rechte vorbehalten.
                </div>
                
                <!-- Powered By -->
                <div class="flex items-center space-x-2">
                    <span class="text-sm text-gray-500 dark:text-gray-400">{{ powered_by_text or "Powered by" | e }}</span>
                    <a href="{{ powered_by_url or saas_website_url or '#' }}" 
                       target="_blank" 
                       rel="noopener noreferrer"
                       class="flex items-center space-x-2 hover:opacity-80 transition-opacity duration-200">
                        <div class="w-5 h-5 rounded overflow-hidden flex items-center justify-center">
                            <img src="{{ powered_by_logo or 'https://bifrotek.com/logo.png' }}" 
                                 alt="BIFROTEK Logo" 
                                 class="w-full h-full object-contain"
                                 onerror="this.innerHTML='<div class=\'w-4 h-4 bg-blue-600 rounded-full\'></div>'">
                        </div>
                        <span class="text-sm font-semibold text-gray-900 dark:text-white">
                            {{ powered_by_company or saas_company_name or company_name | e }}
                        </span>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Legal Modal -->
    <div id="legalModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
            <div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700">
                <h3 id="legalModalTitle" class="text-xl font-semibold text-gray-900 dark:text-white">Rechtliche Informationen</h3>
                <button onclick="closeLegalModal()" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200">
                    <svg class="w-6 h-6 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]">
                <div id="legalModalContent" class="h-96 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600">
                    <iframe id="legalModalIframe" 
                            class="w-full h-full"
                            title="Rechtliche Informationen"
                            loading="lazy">
                    </iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Modal -->
    <div id="contactModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full">
            <div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Kontakt</h3>
                <button onclick="closeContactModal()" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200">
                    <svg class="w-6 h-6 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="p-6">
                <div class="space-y-4">
                    <div>
                        <h4 class="text-sm font-medium text-gray-900 dark:text-white mb-2">E-Mail</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">{{ support_email }}</p>
                    </div>
                    {% if calendly_link %}
                    <div>
                        <h4 class="text-sm font-medium text-gray-900 dark:text-white mb-2">{{ cta_text or "Termin vereinbaren" }}</h4>
                        <a href="{{ calendly_link }}" 
                           target="_blank" 
                           rel="noopener noreferrer"
                           class="inline-flex items-center text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200">
                            {{ cta_text or "Jetzt buchen" }} →
                        </a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <script>
        // Modal Functions
        function openLegalModal(title, url) {
            const modal = document.getElementById('legalModal');
            const modalTitle = document.getElementById('legalModalTitle');
            const modalIframe = document.getElementById('legalModalIframe');
            
            modalTitle.textContent = title;
            modalIframe.src = url || '';
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeLegalModal() {
            const modal = document.getElementById('legalModal');
            const modalIframe = document.getElementById('legalModalIframe');
            
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            modalIframe.src = '';
        }

        function openContactModal() {
            const modal = document.getElementById('contactModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeContactModal() {
            const modal = document.getElementById('contactModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.id === 'legalModal') {
                closeLegalModal();
            }
            if (e.target.id === 'contactModal') {
                closeContactModal();
            }
            if (e.target.id === 'examplesModal') {
                closeExamplesModal();
            }
        });

        // Lead Form Demo Function (Clickdummy)
        function showLeadFormDemo() {
            // Simple alert for now - this is a clickdummy
            alert('🚀 Lead Form Demo\n\nDieser Click-Dummy zeigt die Funktionalität:\n\n1. Lead füllt Formular aus\n2. KI ruft sofort an (< 30 Sek)\n3. Führt Vertriebsgespräch\n4. Bucht qualifizierte Termine automatisch\n5. Überträgt Daten ins CRM\n\nKontaktieren Sie uns für eine Live-Demo!');
        }

        // Examples Modal Functions
        function showExamplesModal() {
            const modal = document.getElementById('examplesModal');
            const content = document.getElementById('modalContent');
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                content.classList.remove('scale-95');
                content.classList.add('scale-100');
            }, 10);
        }

        function closeExamplesModal() {
            const modal = document.getElementById('examplesModal');
            const content = document.getElementById('modalContent');
            modal.classList.add('opacity-0');
            content.classList.add('scale-95');
            content.classList.remove('scale-100');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }
    </script>
</body>
</html>

